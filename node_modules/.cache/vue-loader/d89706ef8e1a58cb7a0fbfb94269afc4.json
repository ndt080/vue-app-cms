{"remainingRequest":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\components\\FormModProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\components\\FormModProfile.vue","mtime":1598444678630},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZW1haWwsIG1pbkxlbmd0aCwgcmVxdWlyZWR9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRm9ybU1vZFByb2ZpbGUiLAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZGF0ZUJpcnRoOiAnJywKICAgICAgICBjb3Vyc2U6ICcnLAogICAgICAgIGdyb3VwOiAnJywKICAgICAgICBhdmE6ICcnCiAgICB9KSwKICAgIHZhbGlkYXRpb25zOiB7CiAgICAgICAgZGF0YU5hbWU6IHt9LAogICAgICAgIGRhdGFEYXRlQmlydGg6IHt9LAogICAgICAgIGRhdGFDb3Vyc2U6IHt9LAogICAgICAgIGRhdGFHcm91cDoge30sCiAgICAgICAgZGF0YUF2YToge30sCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBkYXRhTmFtZTogewogICAgICAgICAgICBnZXQoKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmluZm8udXNlcm5hbWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbHVlKXsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnMuaW5mby51c2VybmFtZSA9IHZhbHVlCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gdmFsdWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGF0YURhdGVCaXJ0aDogewogICAgICAgICAgICBnZXQoKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmluZm8uZGF0ZUJpcnRoCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5pbmZvLmRhdGVCaXJ0aCA9IHZhbHVlCiAgICAgICAgICAgICAgICB0aGlzLmRhdGVCaXJ0aCA9IHZhbHVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRhdGFDb3Vyc2U6IHsKICAgICAgICAgICAgZ2V0KCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pbmZvLmNvdXJzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnMuaW5mby5jb3Vyc2UgPSB2YWx1ZQogICAgICAgICAgICAgICAgdGhpcy5jb3Vyc2UgPSB2YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkYXRhR3JvdXA6IHsKICAgICAgICAgICAgZ2V0KCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pbmZvLmdyb3VwCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5pbmZvLmdyb3VwID0gdmFsdWUKICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSB2YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkYXRhQXZhOiB7CiAgICAgICAgICAgIGdldCgpewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaW5mby5hdmEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLmluZm8uYXZhID0gdmFsdWUKICAgICAgICAgICAgICAgIHRoaXMuYXZhID0gdmFsdWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgYXN5bmMgc3VibWl0SGFuZGxlciAoKXsKICAgICAgICAgICAgaWYodGhpcy4kdi4kaW52YWxpZCl7CiAgICAgICAgICAgICAgICB0aGlzLiR2LiR0b3VjaCgpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPXsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgZGF0ZUJpcnRoOiB0aGlzLmRhdGVCaXJ0aCwKICAgICAgICAgICAgICAgIGNvdXJzZTogdGhpcy5jb3Vyc2UsCiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5ncm91cCwKICAgICAgICAgICAgICAgIGF2YTogdGhpcy5hdmEsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21vZFByb2ZpbGUnLCBmb3JtRGF0YSkKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ9CY0LfQvNC10L3QtdC90LjRjyDQv9GA0LjQvNC10L3QtdC90YsnKTsKICAgICAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcign0J7RiNC40LHQutCwINC/0YDQuNC80LXQvdC10L3QuNGPINC40LfQvNC10L3QtdC90LjQuSEnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["FormModProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormModProfile.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"card\" style=\"max-width: 60rem\">\r\n        <form class=\"card-body form-group\" @submit.prevent=\"submitHandler\" action='' method=\"POST\">\r\n            <table class=\"table table-hover\">\r\n                <tbody>\r\n                <tr class=\"form-group\">\r\n                    <td>Аватар</td>\r\n                    <td><input type=\"text\" class=\"form-control\"\r\n                               v-model.trim=\"dataAva\"/>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"form-group\">\r\n                    <td>ФИО</td>\r\n                    <td><input type=\"text\" class=\"form-control\"\r\n                               v-model.trim=\"dataName\"/>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"form-group\">\r\n                    <td>Дата рождения</td>\r\n                    <td><input type=\"date\" class=\"form-control\"\r\n                               v-model.trim=\"dataDateBirth\"/>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"form-group\">\r\n                    <td>Курс</td>\r\n                    <td><input type=\"number\" class=\"form-control\"\r\n                               v-model.trim=\"dataCourse\"/>\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"form-group\">\r\n                    <td>Группа</td>\r\n                    <td><input type=\"number\" class=\"form-control\"\r\n                               v-model.trim=\"dataGroup\" />\r\n                    </td>\r\n                </tr>\r\n                <tr class=\"form-group\">\r\n                    <td colspan=\"2\"><button class=\"btn btn-success\">СОХРАНИТЬ</button></td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {email, minLength, required} from \"vuelidate/lib/validators\";\r\n\r\n    export default {\r\n        name: \"FormModProfile\",\r\n        data: () => ({\r\n            username: '',\r\n            dateBirth: '',\r\n            course: '',\r\n            group: '',\r\n            ava: ''\r\n        }),\r\n        validations: {\r\n            dataName: {},\r\n            dataDateBirth: {},\r\n            dataCourse: {},\r\n            dataGroup: {},\r\n            dataAva: {},\r\n        },\r\n        computed: {\r\n            dataName: {\r\n                get(){\r\n                    return this.$store.getters.info.username\r\n                },\r\n                set(value){\r\n                    this.$store.getters.info.username = value\r\n                    this.username = value\r\n                }\r\n            },\r\n            dataDateBirth: {\r\n                get(){\r\n                    return this.$store.getters.info.dateBirth\r\n                },\r\n                set(value) {\r\n                    this.$store.getters.info.dateBirth = value\r\n                    this.dateBirth = value\r\n                }\r\n            },\r\n            dataCourse: {\r\n                get(){\r\n                    return this.$store.getters.info.course\r\n                },\r\n                set(value) {\r\n                    this.$store.getters.info.course = value\r\n                    this.course = value\r\n                }\r\n            },\r\n            dataGroup: {\r\n                get(){\r\n                    return this.$store.getters.info.group\r\n                },\r\n                set(value) {\r\n                    this.$store.getters.info.group = value\r\n                    this.group = value\r\n                }\r\n            },\r\n            dataAva: {\r\n                get(){\r\n                    return this.$store.getters.info.ava\r\n                },\r\n                set(value) {\r\n                    this.$store.getters.info.ava = value\r\n                    this.ava = value\r\n                }\r\n            },\r\n        },\r\n        methods:{\r\n            async submitHandler (){\r\n                if(this.$v.$invalid){\r\n                    this.$v.$touch()\r\n                    return\r\n                }\r\n\r\n                const formData ={\r\n                    username: this.username,\r\n                    dateBirth: this.dateBirth,\r\n                    course: this.course,\r\n                    group: this.group,\r\n                    ava: this.ava,\r\n                }\r\n                try{\r\n                    await this.$store.dispatch('modProfile', formData)\r\n                    this.$toast.success('Изменения применены');\r\n                }catch (e) {\r\n                    this.$toast.error('Ошибка применения изменений!');\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .btn{\r\n        margin: 0 auto;\r\n        width: 100%;\r\n    }\r\n</style>\r\n"]}]}