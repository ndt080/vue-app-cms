{"remainingRequest":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\babel-loader\\lib\\index.js!D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\store\\info.js","dependencies":[{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\store\\info.js","mtime":1598446699839},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovPUZJTEVTPS9Qcm9qZWN0cy9XRUIvVnVlQXBwL3Z1ZS1hcHAtY21zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgaW5mbzoge30KICB9LAogIG11dGF0aW9uczogewogICAgc2V0SW5mbzogZnVuY3Rpb24gc2V0SW5mbyhzdGF0ZSwgaW5mbykgewogICAgICBzdGF0ZS5pbmZvID0gaW5mbzsKICAgIH0sCiAgICBjbGVhckluZm86IGZ1bmN0aW9uIGNsZWFySW5mbyhzdGF0ZSkgewogICAgICBzdGF0ZS5pbmZvID0ge307CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBmZXRjaEluZm86IGZ1bmN0aW9uIGZldGNoSW5mbyhfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBjb21taXQsIHVpZCwgaW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0VUlEJyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHVpZCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9pbmZvIikpLm9uY2UoJ3ZhbHVlJyk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGluZm8gPSBfY29udGV4dC5zZW50LnZhbCgpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRJbmZvJywgaW5mbyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBtb2RQcm9maWxlOiBmdW5jdGlvbiBtb2RQcm9maWxlKF9yZWYyLCBfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgdXNlcm5hbWUsIGRhdGVCaXJ0aCwgY291cnNlLCBncm91cCwgYXZhLCB1aWQsIHRtcCwgX3RtcCwgX3RtcDIsIF90bXAzLCBfdG1wNDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2gsIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gX3JlZjMudXNlcm5hbWUsIGRhdGVCaXJ0aCA9IF9yZWYzLmRhdGVCaXJ0aCwgY291cnNlID0gX3JlZjMuY291cnNlLCBncm91cCA9IF9yZWYzLmdyb3VwLCBhdmEgPSBfcmVmMy5hdmE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldFVJRCcpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB1aWQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXVzZXJuYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9pbmZvIikpLmNoaWxkKCd1c2VybmFtZScpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICB0bXAgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRtcC50cmFuc2FjdGlvbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSA9IHVzZXJuYW1lOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoIWRhdGVCaXJ0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIvdXNlcnMvIi5jb25jYXQodWlkLCAiL2luZm8iKSkuY2hpbGQoJ2RhdGVCaXJ0aCcpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX3RtcCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIF90bXAudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgPSBkYXRlQmlydGg7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghY291cnNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvaW5mbyIpKS5jaGlsZCgnY291cnNlJyk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfdG1wMiA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIF90bXAyLnRyYW5zYWN0aW9uKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhID0gY291cnNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBpZiAoIWdyb3VwKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvaW5mbyIpKS5jaGlsZCgnZ3JvdXAnKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIF90bXAzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RtcDMudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgPSBncm91cDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgaWYgKCFhdmEpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigiL3VzZXJzLyIuY29uY2F0KHVpZCwgIi9pbmZvIikpLmNoaWxkKCdhdmEnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF90bXA0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RtcDQudHJhbnNhY3Rpb24oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgPSBhdmE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAzM11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKHMpIHsKICAgICAgcmV0dXJuIHMuaW5mbzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:/=FILES=/Projects/WEB/VueApp/vue-app-cms/src/store/info.js"],"names":["firebase","state","info","mutations","setInfo","clearInfo","actions","fetchInfo","dispatch","commit","uid","database","ref","once","val","modProfile","username","dateBirth","course","group","ava","child","tmp","transaction","data","getters","s"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\r\nexport default {\r\n    state: {\r\n        info: {},\r\n    },\r\n    mutations: {\r\n        setInfo(state, info){\r\n            state.info = info\r\n        },\r\n        clearInfo(state){\r\n            state.info = {}\r\n        }\r\n    },\r\n    actions: {\r\n        async fetchInfo({dispatch, commit}) {\r\n            try {\r\n                const uid = await dispatch('getUID')\r\n                const info = (await firebase.database().ref(`/users/${uid}/info`).once('value')).val()\r\n                commit('setInfo', info)\r\n            } catch (e){\r\n\r\n            }\r\n\r\n        },\r\n        async modProfile({dispatch, commit}, {username, dateBirth, course, group, ava}){\r\n            try{\r\n                const uid = await dispatch ('getUID')\r\n                if(username){\r\n                   let tmp = await firebase.database().ref(`/users/${uid}/info`).child('username')\r\n                    tmp.transaction(function(data) {\r\n                            return data = username\r\n                        }\r\n                    )\r\n                }\r\n                if(dateBirth){\r\n                    let tmp = await firebase.database().ref(`/users/${uid}/info`).child('dateBirth')\r\n                    tmp.transaction(function(data) {\r\n                            return data = dateBirth\r\n                        }\r\n                    )\r\n                }\r\n                if(course){\r\n                    let tmp = await firebase.database().ref(`/users/${uid}/info`).child('course')\r\n                    tmp.transaction(function(data) {\r\n                            return data = course\r\n                        }\r\n                    )\r\n                }\r\n                if(group){\r\n                    let tmp = await firebase.database().ref(`/users/${uid}/info`).child('group')\r\n                    tmp.transaction(function(data) {\r\n                            return data = group\r\n                        }\r\n                    )\r\n                }\r\n                if(ava){\r\n                    let tmp = await firebase.database().ref(`/users/${uid}/info`).child('ava')\r\n                    tmp.transaction(function(data) {\r\n                            return data = ava\r\n                        }\r\n                    )\r\n                }\r\n            }catch (e){\r\n                commit('setError', e)\r\n                throw e\r\n            }\r\n        },\r\n    },\r\n    getters: {\r\n        info: s => s.info\r\n    }\r\n}\r\n"]}]}