{"remainingRequest":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\thread-loader\\dist\\cjs.js!D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\babel-loader\\lib\\index.js!D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\store\\auth.js","dependencies":[{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\src\\store\\auth.js","mtime":1598451902904},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\=FILES=\\Projects\\WEB\\VueApp\\vue-app-cms\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovPUZJTEVTPS9Qcm9qZWN0cy9XRUIvVnVlQXBwL3Z1ZS1hcHAtY21zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlL2FwcCI7CmV4cG9ydCBkZWZhdWx0IHsKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgZW1haWwsIHBhc3N3b3JkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBlbWFpbCA9IF9yZWYyLmVtYWlsLCBwYXNzd29yZCA9IF9yZWYyLnBhc3N3b3JkOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJBdXRoJywgJ3llcycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCBfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyQXV0aCcpOwogICAgICAgICAgICAgICAgY29tbWl0KCdjbGVhckluZm8nKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnY2xlYXJTY2hlZHVsZScpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjQsIF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCB1c2VybmFtZSwgZGF0ZUJpcnRoLCBjb3Vyc2UsIGdyb3VwLCBlbWFpbCwgcGFzc3dvcmQsIHVpZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBfcmVmNS51c2VybmFtZSwgZGF0ZUJpcnRoID0gX3JlZjUuZGF0ZUJpcnRoLCBjb3Vyc2UgPSBfcmVmNS5jb3Vyc2UsIGdyb3VwID0gX3JlZjUuZ3JvdXAsIGVtYWlsID0gX3JlZjUuZW1haWwsIHBhc3N3b3JkID0gX3JlZjUucGFzc3dvcmQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldFVJRCcpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB1aWQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoIi91c2Vycy8iLmNvbmNhdCh1aWQsICIvaW5mbyIpKS5zZXQoewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIGRhdGVCaXJ0aDogZGF0ZUJpcnRoLAogICAgICAgICAgICAgICAgICBjb3Vyc2U6IGNvdXJzZSwKICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLAogICAgICAgICAgICAgICAgICBzdGF0dXM6ICd1c2VyJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsIF9jb250ZXh0My50MCk7CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMiwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVJRDogZnVuY3Rpb24gZ2V0VUlEKCkgewogICAgICB2YXIgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjsKICAgICAgcmV0dXJuIHVzZXIgPyB1c2VyLnVpZCA6IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/=FILES=/Projects/WEB/VueApp/vue-app-cms/src/store/auth.js"],"names":["firebase","actions","login","dispatch","commit","email","password","auth","signInWithEmailAndPassword","localStorage","setItem","logout","signOut","removeItem","register","username","dateBirth","course","group","createUserWithEmailAndPassword","uid","database","ref","set","status","getUID","user","currentUser"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,eAAe;AACXC,EAAAA,OAAO,EAAE;AACCC,IAAAA,KADD,8BAC+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtCC,gBAAAA,QAAsC,QAAtCA,QAAsC,EAA5BC,MAA4B,QAA5BA,MAA4B;AAAlBC,gBAAAA,KAAkB,SAAlBA,KAAkB,EAAXC,QAAW,SAAXA,QAAW;AAAA;AAAA;AAAA,uBAEtCN,QAAQ,CAACO,IAAT,GAAgBC,0BAAhB,CAA2CH,KAA3C,EAAkDC,QAAlD,CAFsC;;AAAA;AAG5CG,gBAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,KAAjC;AAH4C;AAAA;;AAAA;AAAA;AAAA;AAK5CN,gBAAAA,MAAM,CAAC,UAAD,cAAN;AAL4C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQnD,KATI;AAUCO,IAAAA,MAVD,yBAUkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAARP,gBAAAA,MAAQ,SAARA,MAAQ;AAAA;AAAA,uBACbJ,QAAQ,CAACO,IAAT,GAAgBK,OAAhB,EADa;;AAAA;AAEnBH,gBAAAA,YAAY,CAACI,UAAb,CAAwB,UAAxB;AACAT,gBAAAA,MAAM,CAAC,WAAD,CAAN;AACAA,gBAAAA,MAAM,CAAC,eAAD,CAAN;;AAJmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKtB,KAfI;AAgBCU,IAAAA,QAhBD,kCAgBoF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzEX,gBAAAA,QAAyE,SAAzEA,QAAyE,EAA/DC,MAA+D,SAA/DA,MAA+D;AAArDW,gBAAAA,QAAqD,SAArDA,QAAqD,EAA3CC,SAA2C,SAA3CA,SAA2C,EAAhCC,MAAgC,SAAhCA,MAAgC,EAAxBC,KAAwB,SAAxBA,KAAwB,EAAjBb,KAAiB,SAAjBA,KAAiB,EAAVC,QAAU,SAAVA,QAAU;AAAA;AAAA;AAAA,uBAE3EN,QAAQ,CAACO,IAAT,GAAgBY,8BAAhB,CAA+Cd,KAA/C,EAAsDC,QAAtD,CAF2E;;AAAA;AAAA;AAAA,uBAG/DH,QAAQ,CAAE,QAAF,CAHuD;;AAAA;AAG3EiB,gBAAAA,GAH2E;AAAA;AAAA,uBAI3EpB,QAAQ,CAACqB,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,YAA8CG,GAA9C,CAAkD;AACpDR,kBAAAA,QAAQ,EAAEA,QAD0C;AAEpDC,kBAAAA,SAAS,EAAEA,SAFyC;AAGpDC,kBAAAA,MAAM,EAAEA,MAH4C;AAIpDC,kBAAAA,KAAK,EAAEA,KAJ6C;AAKpDM,kBAAAA,MAAM,EAAE;AAL4C,iBAAlD,CAJ2E;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYjFpB,gBAAAA,MAAM,CAAC,UAAD,eAAN;AAZiF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAexF,KA/BI;AAgCLqB,IAAAA,MAhCK,oBAgCG;AACJ,UAAMC,IAAI,GAAG1B,QAAQ,CAACO,IAAT,GAAgBoB,WAA7B;AACA,aAAOD,IAAI,GAAGA,IAAI,CAACN,GAAR,GAAc,IAAzB;AACH;AAnCI;AADE,CAAf","sourcesContent":["import firebase from \"firebase/app\";\r\nexport default {\r\n    actions: {\r\n        async login ({dispatch, commit}, {email, password}) {\r\n            try{\r\n                await firebase.auth().signInWithEmailAndPassword(email, password)\r\n                localStorage.setItem('userAuth', 'yes');\r\n            }catch (e){\r\n                commit('setError', e)\r\n                throw e\r\n            }\r\n        },\r\n        async logout ({commit}){\r\n            await firebase.auth().signOut()\r\n            localStorage.removeItem('userAuth')\r\n            commit('clearInfo')\r\n            commit('clearSchedule')\r\n        },\r\n        async register({dispatch, commit}, {username, dateBirth, course, group, email, password}){\r\n            try{\r\n                await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n                const uid = await dispatch ('getUID')\r\n                await firebase.database().ref(`/users/${uid}/info`).set({\r\n                    username: username,\r\n                    dateBirth: dateBirth,\r\n                    course: course,\r\n                    group: group,\r\n                    status: 'user'\r\n                })\r\n            }catch (e){\r\n                commit('setError', e)\r\n                throw e\r\n            }\r\n        },\r\n        getUID(){\r\n            const user = firebase.auth().currentUser;\r\n            return user ? user.uid : null\r\n        }\r\n    }\r\n}\r\n"]}]}